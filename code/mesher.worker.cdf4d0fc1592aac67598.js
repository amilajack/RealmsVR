!function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o(o.s="H1XT")}({"8oxB":function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,s=[],l=!1,f=-1;function d(){l&&c&&(l=!1,c.length?s=c.concat(s):f=-1,s.length&&m())}function m(){if(!l){var e=u(d);l=!0;for(var t=s.length;t;){for(c=s,s=[];++f<t;)c&&c[f].run();f=-1,t=s.length}c=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new p(e,t)),1!==s.length||l||u(m)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},H1XT:function(e,t,n){(function(i){function _(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var j=self;j.addEventListener("message",function(e){var t=e.data,n=t.promiseId,r=t.size,o=t.voxels;return i(function(){return function(e){for(var t=e.promiseId,s=e.size,l=e.voxels,f={},r=function(e,t,n){e<0&&(e+=s),s<=e&&(e-=s),t<0&&(t+=s),s<=t&&(t-=s),n<0&&(n+=s),s<=n&&(n-=s);var r="".concat(e,":").concat(t,":").concat(n);if(!f[r]){var o=l[n*s*s+t*s+e],i=o>>24&1,a=(o>>16&255)/255,u=(o>>8&255)/255,c=(255&o)/255;f[r]={type:i,r:a,g:u,b:c}}return f[r]},n=function(e,t,n){return!!r(e,t,n).type},d=function(e,t){var n=x(t,3),r=n[0],o=n[1],i=n[2],a=1;return e.forEach(function(e){e&&(a=Math.max(a-.3,.4))}),[r*a,o*a,i*a]},m=[],p=[],y=[],h=[],v=0,o=function(e,t,n,r,o,i,a,u,c,s){p.push.apply(p,_(e).concat(_(n),_(o),_(a))),y.push.apply(y,_(d(t,c)).concat(_(d(r,c)),_(d(i,c)),_(d(u,c)))),h.push.apply(h,_(s).concat(_(s),_(s),_(s))),m.push(v,v+1,v+2,v+2,v+3,v),v+=4},i=0;i<s;i+=1)for(var a=0;a<s;a+=1)for(var u=0;u<s;u+=1){var c=r(u,a,i),g=c.type,T=c.r,b=c.g,w=c.b;1===g&&(n(u,a+1,i)||o([u,a+1,i+1],[n(u-1,a+1,i),n(u,a+1,i+1),n(u-1,a+1,i+1)],[u+1,a+1,i+1],[n(u+1,a+1,i),n(u,a+1,i+1),n(u+1,a+1,i+1)],[u+1,a+1,i],[n(u+1,a+1,i),n(u,a+1,i-1),n(u+1,a+1,i-1)],[u,a+1,i],[n(u-1,a+1,i),n(u,a+1,i-1),n(u-1,a+1,i-1)],[T,b,w],[0,1,0]),n(u,a-1,i)||o([u,a,i],[n(u-1,a-1,i),n(u,a-1,i-1),n(u-1,a-1,i-1)],[u+1,a,i],[n(u+1,a-1,i),n(u,a-1,i-1),n(u+1,a-1,i-1)],[u+1,a,i+1],[n(u+1,a-1,i),n(u,a-1,i+1),n(u+1,a-1,i+1)],[u,a,i+1],[n(u-1,a-1,i),n(u,a-1,i+1),n(u-1,a-1,i+1)],[T,b,w],[0,-1,0]),n(u,a,i+1)||o([u,a,i+1],[n(u-1,a,i+1),n(u,a-1,i+1),n(u-1,a-1,i+1)],[u+1,a,i+1],[n(u+1,a,i+1),n(u,a-1,i+1),n(u+1,a-1,i+1)],[u+1,a+1,i+1],[n(u+1,a,i+1),n(u,a+1,i+1),n(u+1,a+1,i+1)],[u,a+1,i+1],[n(u-1,a,i+1),n(u,a+1,i+1),n(u-1,a+1,i+1)],[T,b,w],[0,0,1]),n(u,a,i-1)||o([u+1,a,i],[n(u+1,a,i-1),n(u,a-1,i-1),n(u+1,a-1,i-1)],[u,a,i],[n(u-1,a,i-1),n(u,a-1,i-1),n(u-1,a-1,i-1)],[u,a+1,i],[n(u-1,a,i-1),n(u,a+1,i-1),n(u-1,a+1,i-1)],[u+1,a+1,i],[n(u+1,a,i-1),n(u,a+1,i-1),n(u+1,a+1,i-1)],[T,b,w],[0,0,-1]),n(u+1,a,i)||o([u+1,a,i+1],[n(u+1,a,i+1),n(u+1,a-1,i),n(u+1,a-1,i+1)],[u+1,a,i],[n(u+1,a,i-1),n(u+1,a-1,i),n(u+1,a-1,i-1)],[u+1,a+1,i],[n(u+1,a,i-1),n(u+1,a+1,i),n(u+1,a+1,i-1)],[u+1,a+1,i+1],[n(u+1,a,i+1),n(u+1,a+1,i),n(u+1,a+1,i+1)],[T,b,w],[1,0,0]),n(u-1,a,i)||o([u,a,i],[n(u-1,a,i-1),n(u-1,a-1,i),n(u-1,a-1,i-1)],[u,a,i+1],[n(u-1,a,i+1),n(u-1,a-1,i),n(u-1,a-1,i+1)],[u,a+1,i+1],[n(u-1,a,i+1),n(u-1,a+1,i),n(u-1,a+1,i+1)],[u,a+1,i],[n(u-1,a,i-1),n(u-1,a+1,i),n(u-1,a+1,i-1)],[T,b,w],[-1,0,0]))}var I={index:new Uint32Array(m),position:new Float32Array(p),color:new Float32Array(y),normal:new Float32Array(h)};j.postMessage({geometry:I,promiseId:t},[I.index.buffer,I.position.buffer,I.color.buffer,I.normal.buffer])}({promiseId:n,size:r,voxels:o})})})}).call(this,n("URgk").setImmediate)},URgk:function(e,o,i){(function(e){var t=void 0!==e&&e||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function r(e,t){this._id=e,this._clearFn=t}o.setTimeout=function(){return new r(n.call(setTimeout,t,arguments),clearTimeout)},o.setInterval=function(){return new r(n.call(setInterval,t,arguments),clearInterval)},o.clearTimeout=o.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(t,this._id)},o.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},o.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},o._unrefActive=o.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},i("YBdB"),o.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,o.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,i("yLpj"))},YBdB:function(e,t,n){(function(e,p){!function(n,r){"use strict";if(!n.setImmediate){var o,i,t,a,e,u=1,c={},s=!1,l=n.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(n);f=f&&f.setTimeout?f:n,o="[object process]"==={}.toString.call(n.process)?function(e){p.nextTick(function(){m(e)})}:function(){if(n.postMessage&&!n.importScripts){var e=!0,t=n.onmessage;return n.onmessage=function(){e=!1},n.postMessage("","*"),n.onmessage=t,e}}()?(a="setImmediate$"+Math.random()+"$",e=function(e){e.source===n&&"string"==typeof e.data&&0===e.data.indexOf(a)&&m(+e.data.slice(a.length))},n.addEventListener?n.addEventListener("message",e,!1):n.attachEvent("onmessage",e),function(e){n.postMessage(a+e,"*")}):n.MessageChannel?((t=new MessageChannel).port1.onmessage=function(e){m(e.data)},function(e){t.port2.postMessage(e)}):l&&"onreadystatechange"in l.createElement("script")?(i=l.documentElement,function(e){var t=l.createElement("script");t.onreadystatechange=function(){m(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):function(e){setTimeout(m,0,e)},f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return c[u]=r,o(u),u++},f.clearImmediate=d}function d(e){delete c[e]}function m(e){if(s)setTimeout(m,0,e);else{var t=c[e];if(t){s=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}(t)}finally{d(e),s=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n("yLpj"),n("8oxB"))},yLpj:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n}});
//# sourceMappingURL=main.075d5e440c17528664a7b46a7bb3da7f.js.map